# Emilio Fernández - Memòria de l'estada dual

## Índex

- [Emilio Fernández - Memòria de l'estada dual](#emilio-fernández---memòria-de-lestada-dual)
  - [Índex](#índex)
  - [1. Presentació de l'alumne ](#1-presentació-de-lalumne-)
    - [Vídeo de la estada DUAL](#vídeo-de-la-estada-dual)
  - [2. Dades de l'entitat ](#2-dades-de-lentitat-)
  - [3. Dades de l'estada ](#3-dades-de-lestada-)
  - [4. Relacions professionals i seguiment de l'estada ](#4-relacions-professionals-i-seguiment-de-lestada-)
  - [5. Diari de pràctiques ](#5-diari-de-pràctiques-)
    - [Període de prova ](#període-de-prova-)
    - [14 de setembre - 3 d'octubre](#14-de-setembre---3-doctubre)
    - [4 d'octubre - 25 d'octubre](#4-doctubre---25-doctubre)
    - [26 d'octubre - 17 de novembre](#26-doctubre---17-de-novembre)
    - [26 d'octubre - 12 de gener](#26-doctubre---12-de-gener)
    - [15 de gener - 23 de febrer](#15-de-gener---23-de-febrer)
    - [26 de febrer - 13 de març](#26-de-febrer---13-de-març)
    - [14 de març - 26 d'abril](#14-de-març---26-dabril)
    - [29 d'abril - 22 de maig](#29-dabril---22-de-maig)
    - [23 de maig - 31 de juny](#23-de-maig---31-de-juny)
  - [6. Problemes sorgits en fer l'estada dual ](#6-problemes-sorgits-en-fer-lestada-dual-)
  - [7. Valoració personal de l'estada Dual ](#7-valoració-personal-de-lestada-dual-)


## 1. Presentació de l'alumne <a name="presentacio-de-lalumne"></a>

### [Vídeo de la estada DUAL](https://youtu.be/xIAJuJYBig4)

El meu nom és Emilio Fernández Vicente i estic cursant el Cicle de Grau Superior de [Desenvolupament d'Aplicacions Web](https://xtec.gencat.cat/web/.content/alfresco/d/d/workspace/SpacesStore/0032/0155e929-9014-48a5-ab28-aa6e8e75e554/BOE_GS_Aplic_web.pdf) a l'Institut Nicolau Copèrnic, a la meva ciutat, Terrassa.

El Nicolau Copèrnic és un institut el qual compta amb diversos cicles d'informàtica de grau superior: Desenvolupament d'aplicacions multiplataforma (DAM), administració de sistemes informàtics en xarxa (ASIX) i desenvolupament d'aplicacions web (DAW) el qual jo estic cursant.

A una experiència anterior a la universitat, vaig descobrir la programació i em vaig apassionar per aquest camp. Un cop vaig deixar el grau universitari, vaig decidir estudiar un cicle formatiu d'aplicacions web al Nicolau Copèrnic. El meu objectiu és adquirir les habilitats i coneixements necessaris per poder dedicar-me professionalment a l'àmbit del desenvolupament d'aplicacions i la tecnologia.

La meva decisió de triar la modalitat DUAL de pràctiques va estar motivada principalment pels beneficis que proporciona respecte de les FCT estàndard. Un any complet en una empresa proporciona una oportunitat de desenvolupar habilitats útils al món laboral real, aprendre com funciona realment el desenvolupament a escala professional i aprendre d'altres professionals en actiu del sector. A més, les probabilitats d'aconseguir ingressar al món laboral mitjançant l'empresa on s'ha realitzat l'estada són molt altes.

El meu principal objectiu és aconseguir aprofitar aquesta oportunitat de tal forma que, un cop terminat el període de pràctiques, l'empresa em contracti com a treballador, de forma que hauria aconseguit un any d'experiència laboral al sector i introduir-me al mercat laboral.

## 2. Dades de l'entitat <a name="dades-de-lentitat"></a>

L'entitat on he realitzat l'estada és Logic&Automatització, situada al carrer de Colom, 485, Terrassa. L'empresa es dedica específicament a l'automatització i monitoratge de plantes de producció i processos industrials amb la venda i instal·lació de maquinari específic, i també, la distribució del seu programari propi, el LOGiPlatform. Proporciona suport específic per a cada client, mentre continua desenvolupant i millorant el seu producte per ampliar la cobertura de necessitats i arribar a més clients.

L'organització es divideix entre dos departaments; el Departament Tècnic, que s'encarrega de la programació i instal·lació del maquinari i el suport als clients i el departament de desenvolupament, que és l'encarregat de desenvolupar el LOGiPlatform, millorant-lo i solucionar errors o bugs.

## 3. Dades de l'estada <a name="dades-de-lestada"></a>

En el meu cas la meva estada dual ha sigut com a becari, mitjançant una beca estudiantil, el temps total realitzat com a període de prova ha sigut d'unes 100 hores durant el mes de juny de 2023. Un cop vaig finalitzar el període de prova vaig començar al 18 de setembre de 2023 fins al 13 de maig de 2024, completant així les 900 hores d'estada dual corresponent.

## 4. Relacions professionals i seguiment de l'estada <a name="relacions-professionals-i-seguiment-de-lestada"></a>

- Nom del tutor/a de l’institut.
- Nom del tutor/a de l’entitat i càrrec que ocupa.
- Com ha estat la comunicació amb els vostres tutors/es, tant el de l’institut, com el de
l’entitat.
- Com ha estat la comunicació amb la resta de companys/es de l’entitat i usuaris
(clients).
- Valoració del seguiment de la doble tutoria (entitat-institut).

El meu tutor de l'institut és el Jordi Lordan Burgos. El meu tutor a l'empresa va ser el Carles Plumed, qui és el meu cap de departament, però va ser substituït pel Josep Riera, el gerent de l'empresa a la renovació de conveni per motius administratius.

La comunicació tant amb els tutors com els companys ha sigut molt bona, en tot moment he tingut ajuda en cas de necessitar-la, han respost als meus dubtes i m'han proporcionat ajuda i solucions quan ho he necessitat. De la mateixa manera amb el seguiment per part de l'empresa i el centre, que m'han acompanyat supervisant el meu treball i progressos.

## 5. Diari de pràctiques <a name="diari-de-practiques"></a>

### Període de prova <a name="període-de-prova"></a>

Inicialment, durant el període de prova, la meva tasca principal ha estat aprendre sobre JavaScript i NodeJS, ja que encara no hem començat el curs i no tenia cap coneixement en aquest llenguatge. M'he concentrat en familiaritzar-me amb les peculiaritats del llenguatge, com el DOM, les funcions de callbacks, l'asincronia, les trucades a API externes, funcions d'objectes, etc. Amb l'ajuda d'un company, que actualment està acabant la seva estada DUAL, he trobat diversos cursos gratuïts de JavaScript que he seguit per aprofundir en aquests conceptes.

### 14 de setembre - 3 d'octubre

Un cop he finalitzat el període de prova, he començat l'estada DUAL. He començat a aprendre sobre Angular, el framework per desenvolupar la part de client que s'utilitza a l'empresa. Un cop més he començat amb cursos gratuïts i petits projectes per aprofundir en el framework.

Aquesta tasca ha sigut una mica complicada, ja que en certa manera he hagut d'aprendre de manera autodidàctica, el que és una mica difícil si no tens unes guies a seguir de forma estructurada.

Un cop he estat unes setmanes aprenent sobre Angular, he tingut accés a una còpia del producte de l'empresa, el LOGiPlatform, això m'ha permès aprendre sobre el projecte, i encara més, entendre com s'estructura Angular i com funciona en un projecte real.

### 4 d'octubre - 25 d'octubre

Un cop finalitzat el període d'aprenentatge d'Angular, he rebut la meva primera tasca amb un impacte real sobre el projecte de l'empresa. La tasca consisteix a refer la validació dels formularis de l'aplicació. Actualment, hi ha formularis amb validacions específiques a cadascun d'ells, això fa que sigui poc escalable i difícil de mantenir. L'objectiu és centralitzar-ho tot a un mòdul o servei, perquè sigui molt fàcil implementar nous formularis i la validació de les dades ràpidament.

La meva idea ha estat fer un servei d'Angular que en funció d'uns models/esquemes de dades, es validin les dades obtingudes del formulari, i en cas que no siguin correctes, mostri un error en el formulari definit a l'esquema.

En aquesta tasca he après més en profunditat sobre Angular, i com es realitza la comunicació entre components i serveis. La tasca ha estat realment bé, ja que he tingut l'ajuda del meu tutor el qual m'ha anat guiant una mica a l'hora de com enfocar la tasca i entendre el funcionament del projecte.

### 26 d'octubre - 17 de novembre

La segona tasca he rebut ha estat realitzar un sistema de llenguatges, de tal forma que el client pugui escollir el llenguatge en el qual es mostra l'aplicació. He dissenyat un servei el qual s'inicialitza al component principal de l'aplicació i obté les paraules de l'idioma corresponent de la base de dades, després mitjançant el servei, la resta de components consulten les paraules necessàries per renderitzar la pàgina. 

D'aquesta forma, només es realitza una consulta a la base de dades i el resta de components el poden consultar tantes vegades com necessitin sense afectar el rendiment del servidor. Aquesta tasca m'ha fet pensar per primera vegada en l'aplicació com a dues parts, el client i el servidor i de quina forma es pot optimitzar la funcionalitat perquè el cost de recursos sigui el mínim possible.


### 26 d'octubre - 12 de gener

Donat que el meu tutor de l'empresa ha estat subcontractat per un client, el desenvolupament de l'aplicació ha estat una mica parat. Per tant, m'han assignat una altra tasca una mica a part del projecte principal. La tasca tracta de desenvolupar una demo per a un client amb uns requisits específics amb el LOGiPlatform con a base.

L'objectiu és desenvolupar una demo en la qual es pugui visualitzar dades en temps real i la seva gestió interna, a més a més de registar i consultar dades manuals. La part de gestió de dades és la part específica que s'ha de desenvolupar de forma espécifica.

En aquesta tasca he tingut accés a requisits específics d'una entitat, el qual m'ha proporcionat la capacitat d'entendre el que vol el client i portar-ho a la plataforma. També ha canviat la meva mentalitat per entendre que s'han de desenvolupar les funcionalitats que demana el client, i no més enllà, ja que seria un treball extra no demanat. Igualment, m'ha aportat la capacitat d'investigar codi i com funciona en profunditat, perquè la demo estava començada però no hi havia cap documentació ni repositori de git per veure les diferències o funcionalitats afegides.

### 15 de gener - 23 de febrer

Durant aquest període de temps, no he tingut una tasca clara, de forma que vaig proposar la iniciativa de fer un testatge manual a fons de l'aplicació i documentar (al git issues) i resoldre els bugs que hi trobi, el meu cap directe va acceptar la proposta i l'he estat realitzant. Donat que és un projecte relativament jove i havia de satisfer moltes necessitats per començar a ser rendible, s'havia omès algunes bones pràctiques de fiabilitat i estabilitat de l'aplicació, com tests o configuracions pels desenvolupadors. 

Aquesta tasca ha suposat un repte en alguns casos, ja que identificar un error i trobar l'origen en un codi sense documentar i que encara no era del tot familiar en alguns moments. Però, tot i això, vaig aconseguir resoldre uns vuit errors importants d'experiència d'usuari i uns quinze errors menors.

### 26 de febrer - 13 de març

Un cop he finalitzat la resolució dels errors, he rebut la tasca de desenvolupar una pantalla especial, on utilitzant un ítem anomenat "Forma" es puguin inserir diverses pantalles dins aquests elements, de tal forma que es poden realitzar diferents configuracions de continguts per a la mateixa disposició, a més a més, també desenvolupar una "Llançadora" que permeti a l'usuari enviar pantalles a altres clients.

En aquesta tasca he entrat en contacte amb el protocol de comunicació MQTT, que permet enviar missatges a través d'un servidor MQTT en temps real, a través de tòpics específics. En aquesta tasca he treballat pensant en la interconnexió dels clients o com a través del servidor d'aquest protocol es poden comunicar per rebre l'enviament de les diverses pantalles.

### 14 de març - 26 d'abril

Aquesta tasca consisteix a fer una reestructuració al sistema d'usuaris de l'aplicació, de tal forma que es compleixin els següents requisits:

- Crear un sistema de gestió d'usuaris, que permeti crear usuaris i rols amb permisos específics.

- Crear un sistema de gestió de permisos, que permeti crear permisos personalitzats i definir l'accés a les diferents pantalles creades.

- Crear una configuració que permeti a l'usuari definir el temps de caducitat de la seva sessió.

- Crear permisos de sistema predefinits, que restringeixin l'accés a les diferents rutes de l'aplicació.

- Crear un sistema de Audit Trail que permeti registrar les accions de l'usuari en un historial que es pot consultar.

Aquesta ha estat fins al moment la tasca més importat i amb més impacte dins el projecte. He après a com gestionar una tasca gran, fent-la tasques més petites i més fàciles de gestionar, i mica en mica anar complint fins assolir la tasca.

He tingut problemes a l'hora de tractar l'accés a les rutes en funció dels permisos, ja que en un primer moment obtenia les dades dels permisos del servidor i realitzava la comprovació amb un *Guard* d'Angular. Aquesta era una mala pràctica, ja que es podien obtenir totes les dades de l'usuari cada cop que s'accedia a una ruta. Vaig realitzar el canvi validant els permisos al servidor i retornant un codi 403 Forbidden en cas que no es permeti l'accés.

### 29 d'abril - 22 de maig

Un cop finalitzat el sistema d'usuaris, he rebut una altra tasca que consisteix a crear un sistema d'alarmes, que en funció d'unes variables booleanes que es llegeixen dels dispositius de control de les plantes, es gestionen d'una manera especial, avisant a l'usuari i mostrant un missatge personalitzat. 

En aquest cas havia de treballar sobre el mòdul de comunicació corresponent, però, va ser desenvolupat al principi del projecte i no ha rebut cap manteniment des de llavors. Així que he proposat fer-li un refactor, i de pas, passar-ho al llenguatge TypeScript, millorant l'experiència de desenvolupament i fer quasi sense voler la documentació del mòdul sencer.

La meva proposta ha estat acceptada i l'he portat a terme sense molts problemes, a més a més de realitzar la gestió d'alarmes. Un cop feta la part de comunicacions he desenvolupat tota la part front-end per poder assignar les variables com a alarmes. En aquesta tasca he pogut treballar amb el protocol de comunicació WebSockets, que permet la comunicació en temps real entre client i servidor, el qual és molt ràpid i eficient. És una tecnologia que és molt senzilla i no requereix un servidor extern com és MQTT, ja que aprofita el mateix servidor HTTP de l'aplicació.

En aquesta tasca he pogut aplicar unes de les que jo hi considero bones pràctiques per un projecte, com són estils de codi únics, documentació, test, etc. El qual amb el consens dels companys vaig aplicant de mica en mica fer una transició i anar polint el projecte perquè sigui molt més fàcil de mantenir i escalar.

### 23 de maig - 31 de juny

En cas no he rebut una tasca directa, he proposat fer una mica de reestructuració a l'API de l'aplicació, simplificant el directori, eliminar codi obsolet i duplicat, documentar generalment el codi i actualitzar a l'última versió de NodeJS per poder treballar amb les últimes versions dels paquets.

En aquesta tasca no he tingut cap problema, ha sigut un treball de simplificar codi, localitzar codi que no s'utilitza i substituir funcions de paquets que s'han modificat o han quedat en desús.


## 6. Problemes sorgits en fer l'estada dual <a name="problemes-sorgits-en-fer-lestada-dual"></a>

Un dels problemes que em va sorgir, sobretot quan començava a treballar en el projecte, era com poder proposar el que per mi eren millores o correccions al projecte, sense molestar a la persona que va desenvolupar aquella part. Ja que és un projecte que havia de ser usable ràpidament, es van seguir males pràctiques al desenvolupament.

Aquest problema el vagi solucionar acceptant inicialment les tasques, i de mica en mica, anar aportant diferents correccions i discutint-les amb l'equip, d'una manera objectiva. A poc a poc vaig anar guanyant confiança i ara no tinc cap problema a proposar millores o debatre a l'hora d'enfocar les funcionalitats.

## 7. Valoració personal de l'estada Dual <a name="valoracio-personal-de-lestada-dual"></a>

La meva estada DUAL ha estat una experiència molt bona, he après moltíssim d'altres professionals del sector, a més a més he pogut dedicar-me professionalment a ser desenvolupador web, estant a un equip real. A l'empresa he rebut una confiança i un suport que m'ha fet ser capaç de poder expressar la meva opinió i així debatre i aprendre amb els companys molt més encara.
